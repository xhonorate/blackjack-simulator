(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9122:function(e,t,s){Promise.resolve().then(s.bind(s,6911))},6911:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var l=s(3827),n=s(6926),r=s(8308),a=s(7895),i=s(3620),u=s(1671),o=s(6685),x=s(5330),h=s(5182),c=s(4358),d=s(4090);let j=[1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10],p={1:-1,2:1,3:1,4:1,5:1,6:1,7:0,8:0,9:0,10:-1},f={2:[1,1,1,1,1,1,0,0,0,0],3:[1,1,1,1,1,1,0,0,0,0],4:[0,0,0,1,1,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0],6:[1,1,1,1,1,0,0,0,0,0],7:[1,1,1,1,1,1,0,0,0,0],8:[1,1,1,1,1,1,1,1,1,1],9:[1,1,1,1,1,0,1,1,0,0],10:[0,0,0,0,0,0,0,0,0,0],1:[1,1,1,1,1,1,1,1,1,1]},g={13:[1,1,1,2,2,1,1,1,1,1],14:[1,1,1,2,2,1,1,1,1,1],15:[1,1,2,2,2,1,1,1,1,1],16:[1,1,2,2,2,1,1,1,1,1],17:[1,2,2,2,2,1,1,1,1,1],18:[3,3,3,3,3,0,0,1,1,1],19:[0,0,0,0,3,0,0,0,0,0],20:[0,0,0,0,0,0,0,0,0,0],21:[0,0,0,0,0,0,0,0,0,0]},w={3:[1,1,1,1,1,1,1,1,1,1],4:[1,1,1,1,1,1,1,1,1,1],5:[1,1,1,1,1,1,1,1,1,1],6:[1,1,1,1,1,1,1,1,1,1],7:[1,1,1,1,1,1,1,1,1,1],8:[1,1,1,1,1,1,1,1,1,1],9:[1,2,2,2,2,1,1,1,1,1],10:[2,2,2,2,2,2,2,2,1,1],11:[2,2,2,2,2,2,2,2,2,2],12:[1,1,0,0,0,1,1,1,1,1],13:[0,0,0,0,0,1,1,1,1,1],14:[0,0,0,0,0,1,1,1,1,1],15:[0,0,0,0,0,1,1,1,1,1],16:[0,0,0,0,0,1,1,1,1,1],17:[0,0,0,0,0,0,0,0,0,0],18:[0,0,0,0,0,0,0,0,0,0],19:[0,0,0,0,0,0,0,0,0,0],20:[0,0,0,0,0,0,0,0,0,0],21:[0,0,0,0,0,0,0,0,0,0]},S=e=>{let t=Array.from({length:e},()=>j).flat();for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*e);[t[e],t[s]]=[t[s],t[e]]}return t},m=e=>{let t=e.reduce((e,t)=>e+t,0);return e.includes(1)&&t<=11&&(t+=10),t};function b(){let[e,t]=(0,d.useState)(null),[s,c]=(0,d.useState)(6),[j,b]=(0,d.useState)(1),[k,P]=(0,d.useState)(1),[y,B]=(0,d.useState)(10),[C,N]=(0,d.useState)(0),[R,_]=(0,d.useState)(!0),[W,Y]=(0,d.useState)(!1),[F,D]=(0,d.useState)(1.5),[I,M]=(0,d.useState)(p),[O,z]=(0,d.useState)(f),[E,A]=(0,d.useState)(g),[L,Q]=(0,d.useState)(w),U=(Object.values(I).reduce((e,t)=>e+Math.abs(t),0)+Math.abs(3*I[10]))/13,H=e=>W?k:e/s>U?y:k,T=e=>{let t={wins:0,losses:0,ties:0,totalBets:0,totalReturn:0},l=0,n=S(s),r=!1,a=()=>{if(!(n.length>0))return l=0,r=!0,(n=S(1)).pop();{let e=n.pop();return l+=I[e],e}},i=e=>1===e?"A":e.toString(),u=e=>e.map(i).join(", "),o=()=>{e("////// NEW HAND //////");let s=H(l),n=[a(),a()],r=[a(),a()];if(e("Bet:",s),e("Dealer showing:",i(r[0])),2===r.length&&21===m(r)){if(e("Dealer has blackjack"),2===n.length&&21===m(n)){e("Player has blackjack"),e("PUSH"),t.ties+=1,t.totalBets+=s;return}e("LOSS"),t.losses+=1,t.totalBets+=s,t.totalReturn-=s;return}let o=function(s,l){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];e("Player hand:",u(s));let i=r[0];if(s.length>2&&m(s)>21)return e("Player busts"),e("LOSS"),t.losses+=1,t.totalBets+=l,t.totalReturn-=l,[];if(2===s.length&&21===m(s)&&n)return e("Player has blackjack"),e("BLACKJACK!"),t.wins+=1,t.totalBets+=l,t.totalReturn+=l*F,[];if(s[0]===s[1]&&2===s.length){if(e("Player can split"),O[s[0]][i-1?i-1:9])return e("Player split"),[...o([s[0],a()],l,!1),...o([s[1],a()],l,!1)];e("Player didn't split")}let x=0,h=s.reduce((e,t)=>e+t,0);return(s.includes(1)&&h<=11?(e("Soft hand value:",h+=10),x=E[h][i-1?i-1:9]):(e("Hard hand value:",h),x=L[h][i-1?i-1:9]),(2===x||3===x)&&s.length<3)?(e("Player doubles down"),o([...s,a()],2*l)):1===x||2===x?(e("Player hits"),o([...s,a()],l)):(e("Player stands"),[[h,l]])},x=o(n,s);if(0===x.length)return;let h=m(r);for(;h<(r.includes(1)&&R?18:17);)e("Dealer hits"),r.push(a()),h=m(r);if(h>21){e("Dealer busts"),e("WIN"),t.wins+=x.length,t.totalBets+=x.reduce((e,t)=>{let[s,l]=t;return e+l},0),t.totalReturn+=x.reduce((e,t)=>{let[s,l]=t;return e+l},0);return}x.forEach(s=>{let[l,n]=s;t.totalBets+=n,l>h?(e("WIN"),t.wins+=1,t.totalReturn+=n):l===h?(e("PUSH"),t.ties+=1):(e("LOSS"),t.losses+=1,t.totalReturn-=n)})};for(;!r;)o();return t};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(n.g,{children:[(0,l.jsxs)(r.xu,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Number of decks in shoe:"}),(0,l.jsxs)(i.Y2,{min:0,max:12,value:s,onChange:e=>c(parseInt(e)),children:[(0,l.jsx)(i.zu,{}),(0,l.jsxs)(i.Fi,{children:[(0,l.jsx)(i.WQ,{}),(0,l.jsx)(i.Y_,{})]})]})]}),(0,l.jsxs)(r.xu,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Minbet:"}),(0,l.jsxs)(i.Y2,{min:0,max:10,value:k,onChange:e=>P(parseInt(e)),children:[(0,l.jsx)(i.zu,{}),(0,l.jsxs)(i.Fi,{children:[(0,l.jsx)(i.WQ,{}),(0,l.jsx)(i.Y_,{})]})]})]}),(0,l.jsxs)(r.xu,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Maxbet:"}),(0,l.jsxs)(i.Y2,{min:1,max:10,value:y,onChange:e=>B(parseInt(e)),children:[(0,l.jsx)(i.zu,{}),(0,l.jsxs)(i.Fi,{children:[(0,l.jsx)(i.WQ,{}),(0,l.jsx)(i.Y_,{})]})]})]}),(0,l.jsxs)(r.xu,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Number of other players at table:"}),(0,l.jsxs)(i.Y2,{min:0,max:7,value:C,onChange:e=>N(parseInt(e)),children:[(0,l.jsx)(i.zu,{}),(0,l.jsxs)(i.Fi,{children:[(0,l.jsx)(i.WQ,{}),(0,l.jsx)(i.Y_,{})]})]})]}),(0,l.jsxs)(r.xu,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Number of shoes to play through:"}),(0,l.jsxs)(i.Y2,{min:1,max:1e6,value:j,onChange:e=>b(parseInt(e)),children:[(0,l.jsx)(i.zu,{}),(0,l.jsxs)(i.Fi,{children:[(0,l.jsx)(i.WQ,{}),(0,l.jsx)(i.Y_,{})]})]})]}),(0,l.jsxs)(u.U,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Dealer hits soft 17:"}),(0,l.jsx)(o.r,{isChecked:R,onChange:e=>_(e.target.checked)})]}),(0,l.jsxs)(u.U,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Flat bet:"}),(0,l.jsx)(o.r,{isChecked:W,onChange:e=>Y(e.target.checked)})]}),(0,l.jsxs)(u.U,{w:"250px",children:[(0,l.jsx)(a.x,{children:"Blackjack pays:"}),(0,l.jsxs)(x.P,{w:"max-content",value:F.toString(),onChange:e=>D(parseFloat(e.target.value)),children:[(0,l.jsx)("option",{value:"1",children:"1:1"}),(0,l.jsx)("option",{value:"1.2",children:"6:5"}),(0,l.jsx)("option",{value:"1.5",children:"3:2"}),(0,l.jsx)("option",{value:"2",children:"2:1"})]})]}),(0,l.jsx)(h.z,{onClick:()=>{let e={wins:0,losses:0,ties:0,totalBets:0,totalReturn:0},s=console.log;j>10&&(s=()=>null),t(null);for(let t=0;t<j;t++){let t=T(s);e.wins+=t.wins,e.losses+=t.losses,e.ties+=t.ties,e.totalBets+=t.totalBets,e.totalReturn+=t.totalReturn}console.log("DONE!"),t(e)},children:"Play"}),(0,l.jsx)(v,{results:e})]})})}let k=e=>"".concat((100*e).toFixed(2),"%"),v=e=>{let{results:t}=e;if(!t)return null;let s=t.wins+t.losses+t.ties;return(0,l.jsxs)(c.M,{columns:2,columnGap:8,children:[(0,l.jsx)(a.x,{children:"Total Plays"}),s,(0,l.jsx)(a.x,{children:"Winrate:"}),k(t.wins/s),(0,l.jsx)(a.x,{children:"Lossrate:"})," ",k(t.losses/s),(0,l.jsx)(a.x,{children:"Pushrate:"})," ",k(t.ties/s),(0,l.jsx)(a.x,{children:"Net Winrate (ignore pushes):"}),k(t.wins/(t.wins+t.losses)),(0,l.jsx)(a.x,{children:"Total wager:"}),t.totalBets,(0,l.jsx)(a.x,{children:"Total return:"}),t.totalReturn,(0,l.jsx)(a.x,{children:"Net roi:"}),k(t.totalReturn/t.totalBets)]})}}},function(e){e.O(0,[604,971,69,744],function(){return e(e.s=9122)}),_N_E=e.O()}]);